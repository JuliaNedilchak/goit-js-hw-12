{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nform.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const name = e.target.elements.text.value;\n  getImages(name);\n\n  form.reset();\n}\n\nfunction getImages(imageName) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = `?key=42244412-4baf4dd8f3efd9c6d484c6d30&q=${imageName}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + params;\n  loader.style.display = 'block';\n  return fetch(url)\n    .then(res => res.json())\n\n    .then(images => {\n      if (images.hits.length === 0) {\n        gallery.innerHTML = '';\n        loader.style.display = 'none';\n\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        loader.style.display = 'none';\n        const markup = images.hits\n          .map(image => {\n            return `<li class=\"item\"> <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n     \n      src=\"${image.webformatURL}\"\n      \n      alt=\"${image.tags}\"\n    />\n  </a><ul class=\"list\">\n  <li class=\"group\"><p class=\"desc\">likes<span class=\"amount\">${image.likes}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">views<span class=\"amount\"> ${image.views}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">comments<span class=\"amount\"> ${image.comments}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">downloads<span class=\"amount\"> ${image.downloads}</span></p></li>\n  </ul>\n  </li>`;\n          })\n          .join('');\n\n        gallery.innerHTML = markup;\n      }\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      toastError(`Error: ${error}`);\n      throw error;\n    });\n}\n"],"names":["form","gallery","loader","onFormSubmit","e","name","getImages","imageName","BASE_URL","params","url","res","images","iziToast","markup","image","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvBF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,OAAO,SAAS,KAAK,MACpCE,EAAUD,CAAI,EAEdL,EAAK,MAAK,CACZ,CAEA,SAASM,EAAUC,EAAW,CAC5B,MAAMC,EAAW,2BACXC,EAAS,6CAA6CF,CAAS,2DAE/DG,EAAMF,EAAWC,EACvB,OAAAP,EAAO,MAAM,QAAU,QAChB,MAAMQ,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EAEtB,KAAKC,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EACzBX,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OAEvBW,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,MACI,CACLX,EAAO,MAAM,QAAU,OACvB,MAAMY,EAASF,EAAO,KACnB,IAAIG,GACI,mDAAmDA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,aAI5EA,EAAM,YAAY;AAAA;AAAA,aAElBA,EAAM,IAAI;AAAA;AAAA;AAAA,gEAGyCA,EAAM,KAAK;AAAA,iEACVA,EAAM,KAAK;AAAA,oEACRA,EAAM,QAAQ;AAAA,qEACbA,EAAM,SAAS;AAAA;AAAA,QAGzE,EACA,KAAK,EAAE,EAEVd,EAAQ,UAAYa,CACrB,CACgB,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,iBAAW,UAAUA,CAAK,EAAE,EACtBA,CACZ,CAAK,CACL"}