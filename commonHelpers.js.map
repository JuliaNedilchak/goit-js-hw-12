{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport axios from 'axios';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nform.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const name = e.target.elements.text.value;\n  getImages(name);\n\n  form.reset();\n}\n\nasync function getImages(imageName) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = `?key=42244412-4baf4dd8f3efd9c6d484c6d30&q=${imageName}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + params;\n  loader.style.display = 'block';\n  const res = await axios.get(url);\n\n  try {\n    const images = await res;\n    if (images.hits.length === 0) {\n      gallery.innerHTML = '';\n      loader.style.display = 'none';\n\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      loader.style.display = 'none';\n      const markup = images.hits\n        .map(image => {\n          return `<li class=\"item\"> <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n     \n      src=\"${image.webformatURL}\"\n      \n      alt=\"${image.tags}\"\n    />\n  </a><ul class=\"list\">\n  <li class=\"group\"><p class=\"desc\">likes<span class=\"amount\">${image.likes}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">views<span class=\"amount\"> ${image.views}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">comments<span class=\"amount\"> ${image.comments}</span></p></li>\n  <li class=\"group\"><p class=\"desc\">downloads<span class=\"amount\"> ${image.downloads}</span></p></li>\n  </ul>\n  </li>`;\n        })\n        .join('');\n\n      gallery.innerHTML = markup;\n    }\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  } catch (error) {\n    toastError(`Error: ${error}`);\n    throw error;\n  }\n  return;\n}\n"],"names":["form","gallery","loader","onFormSubmit","e","name","getImages","imageName","BASE_URL","params","url","res","axios","images","iziToast","markup","image","SimpleLightbox","error"],"mappings":"owBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvBF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,OAAO,SAAS,KAAK,MACpCE,EAAUD,CAAI,EAEdL,EAAK,MAAK,CACZ,CAEA,eAAeM,EAAUC,EAAW,CAClC,MAAMC,EAAW,2BACXC,EAAS,6CAA6CF,CAAS,2DAE/DG,EAAMF,EAAWC,EACvBP,EAAO,MAAM,QAAU,QACvB,MAAMS,EAAM,MAAMC,EAAM,IAAIF,CAAG,EAE/B,GAAI,CACF,MAAMG,EAAS,MAAMF,EACrB,GAAIE,EAAO,KAAK,SAAW,EACzBZ,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OAEvBY,EAAS,MAAM,CACb,QACE,0EACV,CAAO,MACI,CACLZ,EAAO,MAAM,QAAU,OACvB,MAAMa,EAASF,EAAO,KACnB,IAAIG,GACI,mDAAmDA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,aAI1EA,EAAM,YAAY;AAAA;AAAA,aAElBA,EAAM,IAAI;AAAA;AAAA;AAAA,gEAGyCA,EAAM,KAAK;AAAA,iEACVA,EAAM,KAAK;AAAA,oEACRA,EAAM,QAAQ;AAAA,qEACbA,EAAM,SAAS;AAAA;AAAA,QAG3E,EACA,KAAK,EAAE,EAEVf,EAAQ,UAAYc,CACrB,CACgB,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,EACQ,QAAO,CACjB,OAAQC,EAAO,CACd,iBAAW,UAAUA,CAAK,EAAE,EACtBA,CACP,CAEH"}